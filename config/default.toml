[server]
host = "0.0.0.0"
port = 8080

[database]
url = "postgres://badge:badge_secret@localhost:5432/badge_db"
max_connections = 10
min_connections = 2
connect_timeout_seconds = 30
idle_timeout_seconds = 600

[redis]
url = "redis://localhost:6379"
pool_size = 10

[kafka]
brokers = "localhost:9092"
consumer_group = "badge-service"
auto_offset_reset = "earliest"

[kafka.topics]
engagement_events = "badge.engagement.events"
transaction_events = "badge.transaction.events"
notifications = "badge.notifications"
dead_letter_queue = "badge.dlq"
rule_reload = "badge.rule.reload"

[rules]
refresh_interval_secs = 30
initial_load_timeout_secs = 10
idempotency_ttl_hours = 24

[observability]
log_level = "info"
log_format = "pretty"
metrics_enabled = true
metrics_port = 9090
tracing_enabled = false
